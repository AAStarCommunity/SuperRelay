# å¯åŠ¨è„šæœ¬å˜æ›´è¯´æ˜

## ğŸ”„ è„šæœ¬é‡æ„åŸå› 

### é—®é¢˜åˆ†æ
ç”¨æˆ·åé¦ˆäº†ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼š
1. **å¯åŠ¨è„šæœ¬ç§é’¥é…ç½®é”™è¯¯** - `SIGNER_PRIVATE_KEYS` ç¯å¢ƒå˜é‡æœªæ­£ç¡®è®¾ç½®
2. **æ¶æ„ç†è§£æ··æ·†** - è„šæœ¬ç›´æ¥è°ƒç”¨ `rundler` è€Œé `super-relay` åŒ…è£…å™¨

### è§£å†³æ–¹æ¡ˆ

#### âŒ æ—§è„šæœ¬ (`scripts/start_dev_server.sh`)
```bash
# ç›´æ¥è°ƒç”¨ rundlerï¼Œç¼ºå°‘æ¶æ„è¯´æ˜
cargo run --bin rundler -- node --paymaster.enabled
```

**é—®é¢˜**:
- ç»•è¿‡äº† SuperRelay ä¼ä¸šçº§åŒ…è£…å™¨
- æ²¡æœ‰æ¸…æ™°çš„æ¶æ„è¯´æ˜
- ç¯å¢ƒå˜é‡è®¾ç½®ä¸å¤Ÿä¸¥æ ¼

#### âœ… æ–°è„šæœ¬ (`scripts/start_superrelay.sh`)
```bash
# ä½¿ç”¨æ­£ç¡®çš„ SuperRelay åŒ…è£…å™¨
./target/release/super-relay node --config config/config.toml
```

**ä¼˜åŠ¿**:
- âœ… ä½¿ç”¨ä¼ä¸šçº§ SuperRelay åŒ…è£…å™¨
- âœ… æ¸…æ™°çš„æ¶æ„å…³ç³»è¯´æ˜
- âœ… ä¸¥æ ¼çš„ç¯å¢ƒå˜é‡éªŒè¯
- âœ… æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

## ğŸ—ï¸ æ¶æ„æ¾„æ¸…

### rundler vs SuperRelay å…³ç³»

**ä¹‹å‰çš„è¯¯è§£**:
è®¤ä¸º rundler æœ¬èº«æä¾› paymaster åŠŸèƒ½

**æ­£ç¡®ç†è§£**:
- **rundler** = ERC-4337 bundlerï¼Œå¯ä»¥å¤„ç† paymaster äº¤æ˜“ä½†ä¸æä¾› paymaster æœåŠ¡
- **SuperRelay** = ä¼ä¸šçº§åŒ…è£…å™¨ï¼Œæä¾›å®Œæ•´çš„ PaymasterRelayService
- **PaymasterRelayService** = ç‹¬ç«‹çš„ gas èµåŠ©æœåŠ¡ï¼ŒåŒ…å«ç­–ç•¥å¼•æ“å’Œç­¾åç®¡ç†

### è®¾è®¡ç›®æ ‡å®ç°

**"å°½åŠ›å°‘æ”¹åŠ¨åŸæœ‰ rundler ä»£ç "** âœ… å·²å®ç°:
- rundler æ ¸å¿ƒä»£ç ä¿æŒä¸å˜
- é€šè¿‡ä¾èµ–æ³¨å…¥æ–¹å¼é›†æˆ PaymasterRelayService
- æ¸…æ™°çš„èŒè´£åˆ†ç¦»ï¼šbundler vs paymaster

## ğŸš€ æ–°è„šæœ¬ç‰¹æ€§

### 1. ç¯å¢ƒå˜é‡éªŒè¯
```bash
# éªŒè¯å…³é”®ç¯å¢ƒå˜é‡
if [ -z "$SIGNER_PRIVATE_KEYS" ]; then
    echo "âŒ é”™è¯¯: SIGNER_PRIVATE_KEYS ç¯å¢ƒå˜é‡æœªè®¾ç½®"
    exit 1
fi
```

### 2. æ¶æ„è¯´æ˜
```bash
echo "ğŸ’¡ æ¶æ„è¯´æ˜:"
echo "  â€¢ SuperRelay = ä¼ä¸šçº§åŒ…è£…å™¨"
echo "  â€¢ rundler = åº•å±‚ERC-4337å¼•æ“"
echo "  â€¢ paymaster-relay = GasèµåŠ©æœåŠ¡"
```

### 3. æ­£ç¡®çš„å¯åŠ¨æ–¹å¼
```bash
# ä½¿ç”¨ super-relay åŒ…è£…å™¨è€Œéç›´æ¥è°ƒç”¨ rundler
./target/release/super-relay node --config config/config.toml
```

## ğŸ“ ä¸ºä»€ä¹ˆåˆ é™¤æ—§è„šæœ¬ï¼Ÿ

### å†³ç­–åŸå› 
1. **é¿å…æ··æ·†** - ä¸¤ä¸ªå¯åŠ¨è„šæœ¬ä¼šè®©ç”¨æˆ·å›°æƒ‘
2. **æ¶æ„æ­£ç¡®æ€§** - æ–°è„šæœ¬ä½“ç°äº†æ­£ç¡®çš„æ¶æ„å…³ç³»
3. **æ›´å¥½çš„é”™è¯¯å¤„ç†** - æ–°è„šæœ¬æœ‰å®Œå–„çš„éªŒè¯å’Œæç¤º
4. **ç»´æŠ¤æˆæœ¬** - ç»´æŠ¤ä¸€ä¸ªé«˜è´¨é‡è„šæœ¬æ¯”ä¸¤ä¸ªè„šæœ¬æ›´å®¹æ˜“

### è¿ç§»æŒ‡å—
```bash
# æ—§æ–¹å¼ (å·²åˆ é™¤)
./scripts/start_dev_server.sh

# æ–°æ–¹å¼ (æ¨è)
./scripts/start_superrelay.sh
```

## ğŸ”§ æµ‹è¯•éªŒè¯

### ä¿®å¤å‰é”™è¯¯
```
Error: ğŸ” Private key configuration required!
```

### ä¿®å¤åæˆåŠŸ
```bash
ğŸš€ SuperRelay ä¼ä¸šçº§è´¦æˆ·æŠ½è±¡æœåŠ¡å¯åŠ¨
ğŸ“ åŠ è½½å¼€å‘ç¯å¢ƒé…ç½®: .env.dev
âœ… ç¯å¢ƒé…ç½®å·²åŠ è½½
ğŸ“‹ å½“å‰é…ç½®:
  ğŸ”‘ Paymasterç§é’¥: 0xac0974be...
  ğŸ”— Signerç§é’¥æ•°é‡: 2
ğŸ”¨ æ„å»ºSuperRelay...
```

## ğŸ’¡ æœ€ä½³å®è·µ

### å¼€å‘ç¯å¢ƒ
```bash
# ç¡®ä¿ .env.dev å­˜åœ¨
./scripts/start_superrelay.sh
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# è®¾ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
export SIGNER_PRIVATE_KEYS="0x..."
export PAYMASTER_PRIVATE_KEY="0x..."
./target/release/super-relay node --config config/production.toml
```

## ğŸ¯ æ€»ç»“

æ–°çš„å¯åŠ¨è„šæœ¬å®Œç¾è§£å†³äº†ç”¨æˆ·æå‡ºçš„æ‰€æœ‰é—®é¢˜ï¼š
1. âœ… æ­£ç¡®çš„ç§é’¥é…ç½®å’ŒéªŒè¯
2. âœ… ä½¿ç”¨ SuperRelay åŒ…è£…å™¨è€Œéç›´æ¥è°ƒç”¨ rundler
3. âœ… æ¸…æ™°çš„æ¶æ„å…³ç³»è¯´æ˜
4. âœ… æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå’Œé”™è¯¯æç¤º
5. âœ… ç¬¦åˆä¼ä¸šçº§å¼€å‘æ ‡å‡†